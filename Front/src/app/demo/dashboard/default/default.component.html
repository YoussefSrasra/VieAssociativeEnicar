<div class="row">
  <!-- Cartes de statistiques -->
  @for (analytic of AnalyticEcommerce; track analytic) {
    <div class="col-md-6 col-xl-3">
      <app-card [showHeader]="false" blockClass="dashboard-card">
        <h6 class="mb-2 f-w-400 text-muted">{{ analytic.title }}</h6>
        <h4 class="mb-3">
          @if (loading) {
            <span class="spinner-border spinner-border-sm"></span>
          } @else {
            {{
              analytic.title === 'Événements Actifs' ? eventStats.totalEvents :
              analytic.title === 'Participants Totaux' ? eventStats.totalParticipants :
              analytic.title === 'Demandes en Attente' ? (eventStats.pendingRequests + clubStats.pendingRequests) :
              analytic.title === 'Clubs Actifs' ? clubStats.totalClubs : '0'
            }}
          }
          <span class="badge {{ analytic.background }} border {{ analytic.border }}">
            <i antIcon type="{{ analytic.icon }}" theme="outline"></i>
            {{ analytic.percentage }}
          </span>
        </h4>
        <p class="mb-0 text-muted text-sm">
          <span class="{{ analytic.color }}">{{ analytic.number }}</span>
          {{
            analytic.title === 'Événements Actifs' ? 'événements créés' :
            analytic.title === 'Participants Totaux' ? 'participants inscrits' :
            analytic.title === 'Demandes en Attente' ? 'demandes à traiter' :
            analytic.title === 'Clubs Actifs' ? 'clubs approuvés' : ''
          }}
        </p>
      </app-card>
    </div>
  }

  <!-- Graphique des événements par mois -->
  <div class="col-md-12 col-xl-8">
    <app-card headerTitle="Événements par Mois">
      <div style="height: 300px;">
        <canvas #eventChart></canvas>
      </div>
    </app-card>
  </div>

  <!-- Répartition des types d'événements -->
  <div class="col-md-12 col-xl-4">
    <app-card headerTitle="Types d'Événements">
      <div style="height: 300px;">
        <canvas #eventTypeChart></canvas>
      </div>
    </app-card>
  </div>

  <!-- Dernières demandes de club -->
  <div class="col-md-12 col-xl-6">
    <app-card headerTitle="Dernières Demandes de Club">
      <div class="table-responsive">
        <table class="table table-hover mb-0">
          <thead>
            <tr>
              <th>Nom Club</th>
              <th>Demandeur</th>
              <th>Statut</th>
            </tr>
          </thead>
          <tbody>
            <!-- Vous devrez implémenter la logique pour les dernières demandes -->
            <tr>
              <td colspan="3" class="text-center">Chargement des données...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </app-card>
  </div>

  <!-- Dernières demandes d'événement -->
  <div class="col-md-12 col-xl-6">
    <app-card headerTitle="Dernières Demandes d'Événement">
      <div class="table-responsive">
        <table class="table table-hover mb-0">
          <thead>
            <tr>
              <th>Événement</th>
              <th>Club</th>
              <th>Statut</th>
            </tr>
          </thead>
          <tbody>
            <!-- Vous devrez implémenter la logique pour les dernières demandes -->
            <tr>
              <td colspan="3" class="text-center">Chargement des données...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </app-card>
  </div>
</div>
