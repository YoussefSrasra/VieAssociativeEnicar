<div class="row">
  <div class="col-12">
    
    <!-- 🔔 Messages de succès -->
    <div *ngIf="successMessage" class="success-message">
      <span class="success-icon">✔</span>
      <span class="success-text">{{ successMessage }}</span>
    </div>

    <!-- ❌ Messages d'erreur -->
    <div *ngIf="errorMessage" class="error-message">
      <span class="error-icon">⚠</span>
      <span class="error-text">{{ errorMessage }}</span>
      <button class="error-close" (click)="errorMessage = null">&times;</button>
    </div>

    <app-card [headerTitle]="editingPartner ? 'Modifier Partenaire' : 'Nouveau Partenaire'">
      <form [formGroup]="partnershipForm" (ngSubmit)="onSubmit()" class="p-3">

        <div class="mb-3">
          <label class="form-label">Nom *</label>
          <input type="text" class="form-control" formControlName="name">
        </div>

        <div class="mb-3">
          <label class="form-label">Type *</label>
          <select class="form-select" formControlName="type" aria-label="Type de partenariat">
            <option value="">Sélectionnez...</option>
            @for (type of partnershipTypes; track type) {
              <option [value]="type">{{ type }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label">Contact (email) *</label>
          <input type="email" class="form-control" formControlName="contact">
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              <label class="form-label">Téléphone</label>
              <input type="tel" class="form-control" formControlName="phone">
            </div>
          </div>
          <div class="col-md-6">
            <div class="mb-3">
              <label class="form-label">Partenaire depuis</label>
              <input type="number" class="form-control" formControlName="since">
            </div>
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label">Détails</label>
          <textarea class="form-control" formControlName="details" rows="2"></textarea>
        </div>

        <div class="d-flex justify-content-between">
          <button type="button" class="btn btn-outline-secondary"
                  (click)="resetForm()" *ngIf="editingPartner">
            Annuler
          </button>
          <button type="submit" class="btn btn-primary ms-auto"
                  [disabled]="!partnershipForm.valid">
            {{ editingPartner ? 'Mettre à jour' : 'Ajouter' }}
          </button>
        </div>
      </form>
    </app-card>
  </div>
</div>
